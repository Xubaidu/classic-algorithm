---
marp: true
theme: gaia
paginate: true
backgroundColor: #fff
backgroundImage: url('https://marp.app/assets/hero-background.jpg')
style: |
  section a {
      font-size: 30px;
  }
---

# 数学 $01$

- 最大公因数和最小公倍数
- 欧几里得算法（辗转相除法）
- 扩展欧几里得
- 题目选讲

---

## 最大公因数（gcd）与最小公倍数（lcm）

给定整数 $a,\ b,\ c$

若 $c\mid a,\ c\mid b$（其中 $\mid$ 是整除符），则称 $c$ 是 $a,\ b$ 的公因数，若 $c$ 是最大的，则称 $c$ 为最大公因数，记为 $c = (a,\ b)$

若 $a\mid c,\ b\mid c$（其中 $\mid$ 是整除符），则称 $c$ 是 $a,\ b$ 的公倍数，若 $c$ 是最小的，则称 $c$ 为最小公倍数，记为 $c = [a,\ b]$

---

## 最小公倍数与最大公因数的关系

给定整数 $a,\ b$，则

$$
[a
,\ b] = \frac{a\cdot b}{(a,\ b)}
$$

---

## $gcd$ 的性质

给定整数 $a,\ b,\ c$，关于 $gcd$ 的常用性质如下

- **结合律** $a,\ b,\ c$ 的最大公因数即为 $((a,\ b),\ c)$
- **交换律** $(a,\ b) = (b,\ a)$
- **辗转相除** $(a,\ b) = (b,\ a\ mod\ b)$
- **辗转相减** $(a,\ b) = (b,\ a- b)$
- **$0$ 被任何数整除** $(a,\ 0) = |a|$
- **消去负号** $(a,\ -b) = (a,\ b)$

---

## 欧几里得算法

欧几里得算法用来求解最大公因数，也称之为辗转相除法

算法原理基于性质 $(a,\ b) = (b,\ a\ mod\ b)$，如此不断辗转相除下去，$a\ mod\ b$ 最终会为 $0$，此时输出对应的 $b$ 即为最大公因数

时间复杂度为 $O(logb)$，代码如下

```cpp
int gcd(int a, int b) {return b ? gcd(b, a % b) : a;}
```

---

## 扩展欧几里得算法

记 $(a,\ b)$ 表示 $gcd(a,\ b)$，根据贝祖等式有 $ax + by = (a,\ b)$

扩展欧几里得算法不仅可以计算出 $(a,\ b)$，还可以计算出系数 $x,\ y$

时间复杂度为 $O(logb)$

---

## 代码

```cpp
int exgcd(int a, int b, int &x, int &y)
{
    if(!b) {x = 1, y = 0; return a;}
    int r = exgcd(b, a % b, y, x); // y 的值被修改为 x', x 的值被修改为 y'
    y -= (a / b) * x;
    return r;
}

pair<int, int> getXY(int a, int b, int r, int x, int y)
{
    int add = b / r;
    while(x < 0) x += add;
    x %= add;
    y = (r - x * a) / b; // 注意爆精度
    return {x, y};
}
```

---

## 2559. 蛋糕分享

给定一个长 $x$ 米，宽 $y$ 米的长方形，希望把这个长方形切割成若干个一样大的正方形，请问每个正方形的边长最大多少米

$0 < x,\ y\leq 2^{31}$

---

## 题解

要把长方形完美分割成若干个一样大的正方形，那么正方形的边长必须满足是长和宽的公因数，边长最大，即求最大公因数

---

## 360. 外星开发

给定一个长 $x$ 米，宽 $y$ 米的长方形，把这个长方形切割成若干个一样大的正方形，请问每个正方形的边长最大多少米

$0 < x,\ y\leq 10^{100}$

---

## 题解

大数运算 $gcd$

---

## 2545. 传说中的欧几里得

给定 $a,\ b$，计算最小的非负整数 $x$ 和整数 $y$，使得 $ax + by = 1$

数据保证 $0 < a,\ b\leq 2^{31}$

---

## 题解

扩展欧几里得算法模板题，注意计算 $y$ 时爆精度